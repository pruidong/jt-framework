import{r as t,o as p,c as o,a as n,b as e,F as c,e as s,d as l}from"./app.2cf53764.js";import{_ as i}from"./plugin-vue_export-helper.21dcd24c.js";const r={},u=n("h1",{id:"session\u76F8\u5173",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#session\u76F8\u5173","aria-hidden":"true"},"#"),s(" Session\u76F8\u5173")],-1),k={class:"custom-container tip"},d=n("p",{class:"custom-container-title"},"\u4F20\u9001\u95E8",-1),m=s("\u672C\u5C0F\u8282\u793A\u4F8B\u53EF\u4EE5\u5728 "),b={href:"https://github.com/hylexus/jt-framework/tree/master/samples/jt-808-server-sample-customized",target:"_blank",rel:"noopener noreferrer"},g=s("samples/jt-808-server-sample-customized"),v=s(" \u627E\u5230\u76F8\u5173\u4EE3\u7801\u3002"),_=l(`<h2 id="jt808sessionmanager" tabindex="-1"><a class="header-anchor" href="#jt808sessionmanager" aria-hidden="true">#</a> Jt808SessionManager</h2><p>\u8BE5\u7EC4\u4EF6\u7528\u6765\u7BA1\u7406\u6BCF\u4E2A\u7EC8\u7AEF\u7684 <code>TCP</code> \u8FDE\u63A5\u3002</p><p>\u8981\u5B9A\u5236 <code>Jt808SessionManager</code> \u53EA\u9700\u81EA\u5DF1\u58F0\u660E\u4E00\u4E2A <code>Jt808SessionManager</code> \u7C7B\u578B\u7684Bean\u5373\u53EF\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MySessionManager</span> <span class="token keyword">implements</span> <span class="token class-name">Jt808SessionManager</span> <span class="token punctuation">{</span>
    <span class="token comment">// ......</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomizedDemoJt808Config</span> <span class="token keyword">extends</span> <span class="token class-name">Jt808ServerConfigurationSupport</span> <span class="token punctuation">{</span>
    
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Jt808SessionManager</span> <span class="token function">supplyJt808SessionManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">MySessionManager</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="jt808sessionmanagereventlistener" tabindex="-1"><a class="header-anchor" href="#jt808sessionmanagereventlistener" aria-hidden="true">#</a> Jt808SessionManagerEventListener</h2><p>\u8BE5\u7EC4\u4EF6\u53EF\u4EE5\u76D1\u542C <code>Jt808Session</code> \u7684 <code>\u6DFB\u52A0</code>\u3001<code>\u79FB\u9664</code>\u3001<code>\u5173\u95ED</code> \u4E8B\u4EF6\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyJt808SessionManagerEventListener</span> <span class="token keyword">implements</span> <span class="token class-name">Jt808SessionManagerEventListener</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSessionAdd</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> <span class="token class-name">Jt808Session</span> session<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>session <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;[SessionAdd] terminalId = {}, sessionId = {}&quot;</span><span class="token punctuation">,</span> session<span class="token punctuation">.</span><span class="token function">getTerminalId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> session<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomizedDemoJt808Config</span> <span class="token keyword">extends</span> <span class="token class-name">Jt808ServerConfigurationSupport</span> <span class="token punctuation">{</span>
    
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Jt808SessionManagerEventListener</span> <span class="token function">supplyJt808SessionManagerEventListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MyJt808SessionManagerEventListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div>`,9),h={class:"custom-container tip"},f=n("p",{class:"custom-container-title"},"\u4F20\u9001\u95E8",-1),y=s("\u672C\u5C0F\u8282\u793A\u4F8B\u53EF\u4EE5\u5728 "),j={href:"https://github.com/hylexus/jt-framework/tree/master/samples/jt-808-server-sample-customized",target:"_blank",rel:"noopener noreferrer"},w=s("samples/jt-808-server-sample-customized"),S=s(" \u627E\u5230\u76F8\u5173\u4EE3\u7801\u3002");function x(J,M){const a=t("ExternalLinkIcon");return p(),o(c,null,[u,n("div",k,[d,n("p",null,[m,n("a",b,[g,e(a)]),v])]),_,n("div",h,[f,n("p",null,[y,n("a",j,[w,e(a)]),S])])],64)}var L=i(r,[["render",x]]);export{L as default};
