import{d as n}from"./app.2cf53764.js";import{_ as s}from"./plugin-vue_export-helper.21dcd24c.js";const a={},e=n(`<h1 id="\u7F16\u7801\u89E3\u7801\u76F8\u5173" tabindex="-1"><a class="header-anchor" href="#\u7F16\u7801\u89E3\u7801\u76F8\u5173" aria-hidden="true">#</a> \u7F16\u7801\u89E3\u7801\u76F8\u5173</h1><h2 id="jt808msgbytesprocessor" tabindex="-1"><a class="header-anchor" href="#jt808msgbytesprocessor" aria-hidden="true">#</a> Jt808MsgBytesProcessor</h2><p><code>Jt808MsgBytesProcessor</code> \u8D1F\u8D23 <strong>\u8F6C\u4E49</strong> \u8BF7\u6C42\u6D88\u606F/\u54CD\u5E94\u6D88\u606F\u3001<strong>\u8BA1\u7B97\u6821\u9A8C\u7801</strong>\u3002</p><p>\u8981\u60F3\u66FF\u6362\u8BE5\u7EC4\u4EF6\uFF0C\u53EA\u9700\u8981\u58F0\u660E\u4E00\u4E2A <code>Jt808MsgBytesProcessor</code> \u7C7B\u578B\u7684 <code>Bean</code> \u5373\u53EF\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Jt808MsgBytesProcessor</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * \u8F6C\u4E49\u8BF7\u6C42\u6D88\u606F
     *
     * <span class="token keyword">@param</span> <span class="token parameter">byteBuf</span> \u8BF7\u6C42\u6D88\u606F, \u4E0D\u5305\u542B\u5206\u9694\u7B26 <span class="token punctuation">{</span><span class="token keyword">@link</span> <span class="token reference"><span class="token namespace">io<span class="token punctuation">.</span>github<span class="token punctuation">.</span>hylexus<span class="token punctuation">.</span>jt<span class="token punctuation">.</span>jt808<span class="token punctuation">.</span></span><span class="token class-name">JtProtocolConstant</span><span class="token punctuation">#</span><span class="token field">PACKAGE_DELIMITER</span></span> 0X7E<span class="token punctuation">}</span>
     * <span class="token keyword">@return</span> \u8F6C\u4E49\u4E4B\u540E\u7684\u6D88\u606F
     */</span>
    <span class="token class-name">ByteBuf</span> <span class="token function">doEscapeForReceive</span><span class="token punctuation">(</span><span class="token class-name">ByteBuf</span> byteBuf<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Jt808MsgEscapeException</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * \u8F6C\u4E49\u54CD\u5E94\u6D88\u606F
     *
     * <span class="token keyword">@param</span> <span class="token parameter">byteBuf</span> \u54CD\u5E94\u7ED9\u5BA2\u6237\u7AEF\u7684\u6D88\u606F, \u4E0D\u5305\u542B\u5206\u9694\u7B26 <span class="token punctuation">{</span><span class="token keyword">@link</span> <span class="token reference"><span class="token namespace">io<span class="token punctuation">.</span>github<span class="token punctuation">.</span>hylexus<span class="token punctuation">.</span>jt<span class="token punctuation">.</span>jt808<span class="token punctuation">.</span></span><span class="token class-name">JtProtocolConstant</span><span class="token punctuation">#</span><span class="token field">PACKAGE_DELIMITER</span></span> 0X7E<span class="token punctuation">}</span>
     * <span class="token keyword">@return</span> \u8F6C\u4E49\u4E4B\u540E\u7684\u6D88\u606F
     */</span>
    <span class="token class-name">ByteBuf</span> <span class="token function">doEscapeForSend</span><span class="token punctuation">(</span><span class="token class-name">ByteBuf</span> byteBuf<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Jt808MsgEscapeException</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * \u5C31\u662F\u6821\u9A8C\u7801
     *
     * <span class="token keyword">@param</span> <span class="token parameter">byteBuf</span> \u8BF7\u6C42\u6D88\u606F/\u54CD\u5E94\u6D88\u606F
     * <span class="token keyword">@return</span> \u68C0\u9A8C\u7801
     */</span>
    <span class="token keyword">byte</span> <span class="token function">calculateCheckSum</span><span class="token punctuation">(</span><span class="token class-name">ByteBuf</span> byteBuf<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>\u793A\u4F8B\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// \u66FF\u6362\u5185\u7F6E\u7684\u8F6C\u4E49\u7B49\u903B\u8F91</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyJt808Config</span> <span class="token punctuation">{</span>
    <span class="token comment">// [[ \u975E\u5FC5\u987B\u914D\u7F6E ]] -- \u66FF\u6362\u5185\u7F6E\u7684\u8F6C\u4E49\u7B49\u903B\u8F91</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Jt808MsgBytesProcessor</span> <span class="token function">jt808MsgBytesProcessor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DefaultJt808MsgBytesProcessor</span><span class="token punctuation">(</span><span class="token class-name">ByteBufAllocator</span><span class="token punctuation">.</span>DEFAULT<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="jt808msgdecoder" tabindex="-1"><a class="header-anchor" href="#jt808msgdecoder" aria-hidden="true">#</a> Jt808MsgDecoder</h2><p><code>Jt808MsgDecoder</code> \u8D1F\u8D23\u5C06\u8BF7\u6C42\u4E2D\u7684 <strong>\u5B57\u8282\u6D41</strong> \u521D\u6B65\u89E3\u6790\u4E3A <code>Jt808Request</code> \u5BF9\u8C61\u3002</p><p>\u5982\u679C\u5185\u7F6E\u7684\u5B9E\u73B0\u4E0D\u7B26\u5408\u8981\u6C42 \u6216\u8005 \u5185\u7F6E\u5B9E\u73B0\u8FD4\u56DE\u7684 <code>Jt808Request</code> \u4E0D\u7B26\u5408\u8981\u6C42\uFF0C\u4F60\u53EF\u4EE5\u81EA\u5B9A\u4E49\u4E00\u4E2A\u89E3\u7801\u5668\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Jt808MsgDecoder</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * \u89E3\u6790\u8BF7\u6C42\uFF0C\u8FD4\u56DE <span class="token punctuation">{</span><span class="token keyword">@link</span> <span class="token reference"><span class="token class-name">Jt808Request</span></span><span class="token punctuation">}</span> \u5B9E\u4F8B\u3002
     * <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
     * \u5982\u679C\u9ED8\u8BA4\u7684 <span class="token punctuation">{</span><span class="token keyword">@link</span> <span class="token reference"><span class="token namespace">io<span class="token punctuation">.</span>github<span class="token punctuation">.</span>hylexus<span class="token punctuation">.</span>jt<span class="token punctuation">.</span>jt808<span class="token punctuation">.</span>spec<span class="token punctuation">.</span>impl<span class="token punctuation">.</span>request<span class="token punctuation">.</span></span><span class="token class-name">DefaultJt808Request</span></span> DefaultJt808Request<span class="token punctuation">}</span> \u4E0D\u6EE1\u8DB3\u9700\u6C42 \u6216
     * <span class="token punctuation">{</span><span class="token keyword">@link</span>  <span class="token reference"><span class="token namespace">io<span class="token punctuation">.</span>github<span class="token punctuation">.</span>hylexus<span class="token punctuation">.</span>jt<span class="token punctuation">.</span>jt808<span class="token punctuation">.</span>support<span class="token punctuation">.</span>codec<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span><span class="token class-name">DefaultJt808MsgDecoder</span></span> DefaultJt808MsgDecoder<span class="token punctuation">}</span> \u4E0D\u7B26\u5408\u8981\u6C42\uFF0C
     * \u53EF\u4EE5\u63D0\u4F9B\u81EA\u5DF1\u7684\u5B9E\u73B0\u7C7B\u5728\u8FD9\u91CC\u8FD4\u56DE\u81EA\u5DF1\u7684 <span class="token punctuation">{</span><span class="token keyword">@link</span> <span class="token reference"><span class="token class-name">Jt808Request</span></span><span class="token punctuation">}</span> \u5B9E\u73B0
     *
     * <span class="token keyword">@param</span> <span class="token parameter">byteBuf</span> \u8BF7\u6C42\u6D88\u606F(\u4E0D\u5305\u542B\u5206\u9694\u7B26 <span class="token punctuation">{</span><span class="token keyword">@link</span> <span class="token reference"><span class="token namespace">io<span class="token punctuation">.</span>github<span class="token punctuation">.</span>hylexus<span class="token punctuation">.</span>jt<span class="token punctuation">.</span>jt808<span class="token punctuation">.</span></span><span class="token class-name">JtProtocolConstant</span><span class="token punctuation">#</span><span class="token field">PACKAGE_DELIMITER</span></span> 0X7E<span class="token punctuation">}</span>)
     * <span class="token keyword">@return</span> \u89E3\u6790\u4E4B\u540E\u7684 <span class="token punctuation">{</span><span class="token keyword">@link</span> <span class="token reference"><span class="token class-name">Jt808Request</span></span><span class="token punctuation">}</span> \u5B9E\u4F8B.
     * <span class="token keyword">@see</span> <span class="token reference"><span class="token class-name">Jt808MsgBytesProcessor</span><span class="token punctuation">#</span><span class="token function">doEscapeForReceive</span><span class="token punctuation">(</span><span class="token class-name">ByteBuf</span><span class="token punctuation">)</span></span>
     * <span class="token keyword">@see</span> <span class="token reference"><span class="token class-name">Jt808MsgBytesProcessor</span><span class="token punctuation">#</span><span class="token function">calculateCheckSum</span><span class="token punctuation">(</span><span class="token class-name">ByteBuf</span><span class="token punctuation">)</span></span>
     */</span>
    <span class="token class-name">Jt808Request</span> <span class="token function">decode</span><span class="token punctuation">(</span><span class="token class-name">ByteBuf</span> byteBuf<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>\u793A\u4F8B:</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// \u66FF\u6362\u5185\u7F6E\u7684 Jt808MsgDecoder</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyJt808Config</span> <span class="token punctuation">{</span>

    <span class="token comment">// [[ \u975E\u5FC5\u987B\u914D\u7F6E ]] -- \u66FF\u6362\u5185\u7F6E\u7684 Jt808MsgDecoder</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Jt808MsgDecoder</span> <span class="token function">jt808MsgDecoder</span><span class="token punctuation">(</span>
            <span class="token class-name">Jt808MsgTypeParser</span> jt808MsgTypeParser<span class="token punctuation">,</span>
            <span class="token class-name">Jt808MsgBytesProcessor</span> bytesProcessor<span class="token punctuation">,</span>
            <span class="token class-name">Jt808ProtocolVersionDetectorRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DefaultJt808MsgDecoder</span><span class="token punctuation">(</span>jt808MsgTypeParser<span class="token punctuation">,</span> bytesProcessor<span class="token punctuation">,</span> registry<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="jt808msgencoder" tabindex="-1"><a class="header-anchor" href="#jt808msgencoder" aria-hidden="true">#</a> Jt808MsgEncoder</h2><p><code>Jt808MsgEncoder</code> \u8D1F\u8D23\u5C06 <code>Jt808Response</code> \u5BF9\u8C61\u7F16\u7801\u4E3A <strong>\u7B26\u5408808\u6807\u51C6</strong> \u7684\u5B57\u8282\u6D41\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Jt808MsgEncoder</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * \u5C06 <span class="token punctuation">{</span><span class="token keyword">@link</span> <span class="token reference"><span class="token class-name">Jt808Response</span></span><span class="token punctuation">}</span> \u7F16\u7801\u4E3A <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java">\u7B26\u5408<span class="token number">808</span>\u6807\u51C6</span></span><span class="token punctuation">}</span> \u7684\u5B57\u8282\u6D41
     *
     * <span class="token keyword">@param</span> <span class="token parameter">response</span> \u54CD\u5E94\u6D88\u606F
     * <span class="token keyword">@return</span> \u7F16\u7801\u540E\u7684\u5B57\u8282\u6D41
     * <span class="token keyword">@see</span> <span class="token reference"><span class="token class-name">Jt808MsgBytesProcessor</span><span class="token punctuation">#</span><span class="token function">doEscapeForSend</span><span class="token punctuation">(</span><span class="token class-name">ByteBuf</span><span class="token punctuation">)</span></span>
     * <span class="token keyword">@see</span> <span class="token reference"><span class="token class-name">Jt808MsgBytesProcessor</span><span class="token punctuation">#</span><span class="token function">calculateCheckSum</span><span class="token punctuation">(</span><span class="token class-name">ByteBuf</span><span class="token punctuation">)</span></span>
     */</span>
    <span class="token class-name">ByteBuf</span> <span class="token function">encode</span><span class="token punctuation">(</span><span class="token class-name">Jt808Response</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>\u5982\u679C\u5185\u7F6E\u7684\u5B9E\u73B0\u4E0D\u7B26\u5408\u8981\u6C42\uFF0C\u53EF\u4EE5\u58F0\u660E\u4E00\u4E2A <code>Jt808MsgEncoder</code> \u7C7B\u578B\u7684 Bean\uFF0C\u66FF\u6362\u5185\u7F6E\u5B9E\u73B0\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// \u66FF\u6362\u5185\u7F6E\u7684 Jt808MsgEncoder</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyJt808Config</span> <span class="token punctuation">{</span>

    <span class="token comment">// [[ \u975E\u5FC5\u987B\u914D\u7F6E ]] -- \u66FF\u6362\u5185\u7F6E\u7684 Jt808MsgEncoder</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Jt808MsgEncoder</span> <span class="token function">jt808MsgEncoder</span><span class="token punctuation">(</span><span class="token class-name">Jt808MsgBytesProcessor</span> processor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DefaultJt808MsgEncoder</span><span class="token punctuation">(</span>processor<span class="token punctuation">,</span> <span class="token class-name">ByteBufAllocator</span><span class="token punctuation">.</span>DEFAULT<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div>`,18);function p(t,c){return e}var u=s(a,[["render",p]]);export{u as default};
